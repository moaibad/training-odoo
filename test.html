<form string="Partners">
    <div class="alert alert-warning oe_edit_only" role="alert"
        modifiers="{&quot;invisible&quot;: [[&quot;same_vat_partner_id&quot;, &quot;=&quot;, false]]}">
        A partner with the same <span><span class="o_vat_label">Tax ID</span></span> already exists (
        <field name="same_vat_partner_id" modifiers="{&quot;readonly&quot;: true}" />
        <field name="partner_gid" modifiers="{&quot;invisible&quot;: true}" />
        <field name="additional_info" modifiers="{&quot;invisible&quot;: true}" />), are you sure to create a new one?
    </div>
    <div class="alert alert-warning oe_edit_only" role="alert"
        modifiers="{&quot;invisible&quot;: [[&quot;same_company_registry_partner_id&quot;, &quot;=&quot;, false]]}">
        A partner with the same <span><span class="o_vat_label">Company Registry</span></span> already exists (
        <field name="same_company_registry_partner_id" modifiers="{&quot;readonly&quot;: true}" />), are you sure to
        create a new one?
    </div>
    <sheet>
        <div class="oe_button_box" name="button_box">
            <button class="oe_stat_button" type="action" name="277"
                context="{'search_default_partner_id': active_id, 'default_partner_id': active_id}" icon="fa-tasks"
                modifiers="{&quot;invisible&quot;: [[&quot;task_count&quot;, &quot;=&quot;, 0]]}">
                <field string="Tasks" name="task_count" widget="statinfo" modifiers="{&quot;readonly&quot;: true}" />
            </button>
            <button name="action_open_employees" type="object" class="oe_stat_button" icon="fa-id-card-o"
                modifiers="{&quot;invisible&quot;: [[&quot;employees_count&quot;, &quot;=&quot;, 0]]}">
                <div class="o_field_widget o_stat_info">
                    <span class="o_stat_value">
                        <field name="employees_count" modifiers="{&quot;readonly&quot;: true}" />
                    </span>
                    <span class="o_stat_text">Employee(s)</span>
                </div>
            </button>
            <button class="oe_stat_button" type="object" icon="fa-trophy" name="action_view_certifications"
                modifiers="{&quot;invisible&quot;: [&quot;|&quot;, [&quot;certifications_count&quot;, &quot;=&quot;, 0], [&quot;is_company&quot;, &quot;=&quot;, true]]}">
                <div class="o_field_widget o_stat_info">
                    <span class="o_stat_value">
                        <field name="certifications_count" on_change="1" modifiers="{&quot;readonly&quot;: true}" />
                    </span>
                    <span class="o_stat_text"
                        modifiers="{&quot;invisible&quot;: [[&quot;certifications_count&quot;, &quot;&lt;&quot;, 2]]}">Certifications</span>
                    <span class="o_stat_text"
                        modifiers="{&quot;invisible&quot;: [[&quot;certifications_count&quot;, &quot;&gt;&quot;, 1]]}">Certification</span>
                </div>
            </button>
            <button class="oe_stat_button" type="object" icon="fa-trophy" name="action_view_certifications"
                modifiers="{&quot;invisible&quot;: [&quot;|&quot;, [&quot;certifications_company_count&quot;, &quot;=&quot;, 0], [&quot;is_company&quot;, &quot;=&quot;, false]]}">
                <div class="o_field_widget o_stat_info">
                    <span class="o_stat_value">
                        <field name="certifications_company_count" modifiers="{&quot;readonly&quot;: true}" />
                    </span>
                    <span class="o_stat_text"
                        modifiers="{&quot;invisible&quot;: [[&quot;certifications_company_count&quot;, &quot;&lt;&quot;, 2]]}">Certifications</span>
                    <span class="o_stat_text"
                        modifiers="{&quot;invisible&quot;: [[&quot;certifications_company_count&quot;, &quot;&gt;&quot;, 1]]}">Certification</span>
                </div>
            </button>
        </div>
        <widget name="web_ribbon" title="Archived" bg_color="bg-danger"
            modifiers="{&quot;invisible&quot;: [[&quot;active&quot;, &quot;=&quot;, true]]}" />
        <field name="avatar_128" modifiers="{&quot;invisible&quot;: true, &quot;readonly&quot;: true}" />
        <field name="image_1920" widget="image" class="oe_avatar"
            options="{&quot;preview_image&quot;: &quot;avatar_128&quot;}" on_change="1" />
        <div class="oe_title mb24">
            <field name="is_company" on_change="1" modifiers="{&quot;invisible&quot;: true}" />
            <field name="commercial_partner_id" on_change="1"
                modifiers="{&quot;invisible&quot;: true, &quot;readonly&quot;: true}" />
            <field name="active" on_change="1" modifiers="{&quot;invisible&quot;: true}" />
            <field name="company_id" on_change="1" modifiers="{&quot;invisible&quot;: true}" can_create="true"
                can_write="true" />
            <field name="country_code" modifiers="{&quot;invisible&quot;: true, &quot;readonly&quot;: true}" />
            <field name="company_type" widget="radio" options="{'horizontal': true}" on_change="1" />
            <h1>
                <field id="company" class="text-break" name="name" default_focus="1" placeholder="e.g. Lumber Inc"
                    widget="field_partner_autocomplete" on_change="1"
                    modifiers="{&quot;invisible&quot;: [[&quot;is_company&quot;, &quot;=&quot;, false]], &quot;required&quot;: [[&quot;type&quot;, &quot;=&quot;, &quot;contact&quot;]]}" />
                <field id="individual" class="text-break" name="name" default_focus="1"
                    placeholder="e.g. Brandom Freeman" widget="field_partner_autocomplete" on_change="1"
                    modifiers="{&quot;invisible&quot;: [[&quot;is_company&quot;, &quot;=&quot;, true]], &quot;required&quot;: [[&quot;type&quot;, &quot;=&quot;, &quot;contact&quot;]]}" />
            </h1>
            <div class="o_row">
                <field name="parent_id" widget="res_partner_many2one" placeholder="Company Name..."
                    domain="[('is_company', '=', True)]"
                    context="{'default_is_company': True, 'show_vat': True, 'default_user_id': user_id}" on_change="1"
                    modifiers="{&quot;invisible&quot;: [&quot;|&quot;, &quot;&amp;&quot;, [&quot;is_company&quot;, &quot;=&quot;, true], [&quot;parent_id&quot;, &quot;=&quot;, false], [&quot;company_name&quot;, &quot;!=&quot;, false], [&quot;company_name&quot;, &quot;!=&quot;, &quot;&quot;]]}"
                    can_create="true" can_write="true" />
                <field name="company_name" on_change="1"
                    modifiers="{&quot;invisible&quot;: [&quot;|&quot;, &quot;|&quot;, [&quot;company_name&quot;, &quot;=&quot;, false], [&quot;company_name&quot;, &quot;=&quot;, &quot;&quot;], [&quot;is_company&quot;, &quot;=&quot;, true]]}" />
                <button name="create_company" icon="fa-plus-square" string="Create company" type="object"
                    class="oe_edit_only btn-link"
                    modifiers="{&quot;invisible&quot;: [&quot;|&quot;, &quot;|&quot;, [&quot;is_company&quot;, &quot;=&quot;, true], [&quot;company_name&quot;, &quot;=&quot;, &quot;&quot;], [&quot;company_name&quot;, &quot;=&quot;, false]]}" />
            </div>
        </div>

        <group>
            <group>
                <span class="o_form_label o_td_label" name="address_name">
                    <field name="type" class="fw-bold" on_change="1"
                        modifiers="{&quot;invisible&quot;: [[&quot;is_company&quot;, &quot;=&quot;, true]], &quot;readonly&quot;: [[&quot;user_ids&quot;, &quot;!=&quot;, []]], &quot;required&quot;: [[&quot;is_company&quot;, &quot;!=&quot;, true]]}" />
                    <b modifiers="{&quot;invisible&quot;: [[&quot;is_company&quot;, &quot;=&quot;, false]]}">Address</b>
                </span>
                <div class="o_address_format">
                    <field name="street" placeholder="Street..." class="o_address_street"
                        modifiers="{&quot;readonly&quot;: [[&quot;type&quot;, &quot;=&quot;, &quot;contact&quot;], [&quot;parent_id&quot;, &quot;!=&quot;, false]]}" />
                    <field name="street2" placeholder="Street 2..." class="o_address_street"
                        modifiers="{&quot;readonly&quot;: [[&quot;type&quot;, &quot;=&quot;, &quot;contact&quot;], [&quot;parent_id&quot;, &quot;!=&quot;, false]]}" />
                    <field name="city" placeholder="City" class="o_address_city"
                        modifiers="{&quot;readonly&quot;: [[&quot;type&quot;, &quot;=&quot;, &quot;contact&quot;], [&quot;parent_id&quot;, &quot;!=&quot;, false]]}" />
                    <field name="state_id" class="o_address_state" placeholder="State"
                        options="{'no_open': True, 'no_quick_create': True}"
                        context="{'country_id': country_id, 'default_country_id': country_id, 'zip': zip}" on_change="1"
                        modifiers="{&quot;readonly&quot;: [[&quot;type&quot;, &quot;=&quot;, &quot;contact&quot;], [&quot;parent_id&quot;, &quot;!=&quot;, false]]}"
                        can_create="true" can_write="true" />
                    <field name="zip" placeholder="ZIP" class="o_address_zip" on_change="1"
                        modifiers="{&quot;readonly&quot;: [[&quot;type&quot;, &quot;=&quot;, &quot;contact&quot;], [&quot;parent_id&quot;, &quot;!=&quot;, false]]}" />
                    <div name="partner_address_country" class="d-flex justify-content-between">
                        <field name="country_id" placeholder="Country" class="o_address_country"
                            options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}" on_change="1"
                            modifiers="{&quot;readonly&quot;: [[&quot;type&quot;, &quot;=&quot;, &quot;contact&quot;], [&quot;parent_id&quot;, &quot;!=&quot;, false]]}"
                            can_create="true" can_write="true" />
                    </div>
                </div>
                <field name="vat" placeholder="e.g. BE0477472701" widget="field_partner_autocomplete" on_change="1"
                    modifiers="{&quot;readonly&quot;: [[&quot;parent_id&quot;, &quot;!=&quot;, false]]}" />
                <field name="birthday" on_change="1" />
                <field name="age" modifiers="{&quot;readonly&quot;: true}" />
                <field name="is_lecturer" modifiers="{&quot;invisible&quot;: true}" />
                <field name="subject_line_ids" modifiers="{&quot;invisible&quot;: true}" />
            </group>
            <group>
                <field name="function" placeholder="e.g. Sales Director"
                    modifiers="{&quot;invisible&quot;: [[&quot;is_company&quot;, &quot;=&quot;, true]]}" />
                <field name="phone_blacklisted" modifiers="{&quot;invisible&quot;: true, &quot;readonly&quot;: true}" />
                <field name="mobile_blacklisted"
                    modifiers="{&quot;invisible&quot;: true, &quot;readonly&quot;: true}" />
                <label for="phone" class="oe_inline" />
                <div class="o_row o_row_readonly">
                    <button name="phone_action_blacklist_remove" class="fa fa-ban text-danger"
                        title="This phone number is blacklisted for SMS Marketing. Click to unblacklist." type="object"
                        context="{'default_phone': phone}"
                        modifiers="{&quot;invisible&quot;: [[&quot;phone_blacklisted&quot;, &quot;=&quot;, false]]}" />
                    <field name="phone" widget="phone" on_change="1" />
                </div>
                <field name="phone_blacklisted" modifiers="{&quot;invisible&quot;: true, &quot;readonly&quot;: true}" />
                <field name="mobile_blacklisted"
                    modifiers="{&quot;invisible&quot;: true, &quot;readonly&quot;: true}" />
                <label for="mobile" class="oe_inline" />
                <div class="o_row o_row_readonly">
                    <button name="phone_action_blacklist_remove" class="fa fa-ban text-danger"
                        title="This phone number is blacklisted for SMS Marketing. Click to unblacklist." type="object"
                        context="{'default_phone': mobile}"
                        modifiers="{&quot;invisible&quot;: [[&quot;mobile_blacklisted&quot;, &quot;=&quot;, false]]}" />
                    <field name="mobile" widget="phone" on_change="1" />
                </div>
                <field name="phone_sanitized" on_change="1"
                    modifiers="{&quot;invisible&quot;: true, &quot;readonly&quot;: true}" />
                <field name="user_ids" on_change="1" modifiers="{&quot;invisible&quot;: true}" />
                <field name="is_blacklisted" modifiers="{&quot;invisible&quot;: true, &quot;readonly&quot;: true}" />
                <label for="email" class="oe_inline" />
                <div class="o_row o_row_readonly">
                    <button name="mail_action_blacklist_remove" class="fa fa-ban text-danger"
                        title="This email is blacklisted for mass mailings. Click to unblacklist." type="object"
                        context="{'default_email': email}"
                        modifiers="{&quot;invisible&quot;: [[&quot;is_blacklisted&quot;, &quot;=&quot;, false]]}" />
                    <field name="email" widget="email" context="{'gravatar_image': True}" on_change="1"
                        modifiers="{&quot;required&quot;: [[&quot;user_ids&quot;, &quot;!=&quot;, []]]}" />
                </div>
                <field name="website" string="Website" widget="url" placeholder="e.g. https://www.odoo.com" />
                <field name="title" options="{&quot;no_open&quot;: True}" placeholder="e.g. Mister"
                    modifiers="{&quot;invisible&quot;: [[&quot;is_company&quot;, &quot;=&quot;, true]]}"
                    can_create="true" can_write="true" />
                <field name="active_lang_count" modifiers="{&quot;invisible&quot;: true, &quot;readonly&quot;: true}" />
                <field name="lang" on_change="1"
                    modifiers="{&quot;invisible&quot;: [[&quot;active_lang_count&quot;, &quot;&lt;=&quot;, 1]]}" />
                <field name="category_id" widget="many2many_tags"
                    options="{'color_field': 'color', 'no_create_edit': True}"
                    placeholder="e.g. &quot;B2B&quot;, &quot;VIP&quot;, &quot;Consulting&quot;, ..." can_create="true"
                    can_write="true" />
            </group>
        </group>

        <notebook colspan="4">
            <page string="Contacts &amp; Addresses" name="contact_addresses" autofocus="autofocus">
                <field name="child_ids" mode="kanban"
                    context="{'default_parent_id': active_id, 'default_street': street, 'default_street2': street2, 'default_city': city, 'default_state_id': state_id, 'default_zip': zip, 'default_country_id': country_id, 'default_lang': lang, 'default_user_id': user_id, 'default_type': 'other'}"
                    on_change="1">
                    <kanban>
                        <field name="id" modifiers="{&quot;readonly&quot;: true}" />
                        <field name="color" />
                        <field name="name" on_change="1" />
                        <field name="title" />
                        <field name="type" on_change="1" />
                        <field name="email" on_change="1" />
                        <field name="parent_id" on_change="1" />
                        <field name="is_company" on_change="1" />
                        <field name="function" />
                        <field name="phone" on_change="1" />
                        <field name="street" />
                        <field name="street2" />
                        <field name="zip" on_change="1" />
                        <field name="city" />
                        <field name="country_id" on_change="1" />
                        <field name="mobile" on_change="1" />
                        <field name="state_id" on_change="1" />
                        <field name="image_128" on_change="1" modifiers="{&quot;readonly&quot;: true}" />
                        <field name="avatar_128" modifiers="{&quot;readonly&quot;: true}" />
                        <field name="lang" on_change="1" />
                        <!-- fields in form x2many view to diminish requests -->
                        <field name="comment" />
                        <field name="display_name" on_change="1" modifiers="{&quot;readonly&quot;: true}" />
                        <templates>
                            <t t-name="kanban-box">
                                <t t-set="color" t-value="kanban_color(record.color.raw_value)" />
                                <div
                                    t-att-class="color + (record.title.raw_value == 1 ? ' oe_kanban_color_alert' : '') + ' oe_kanban_global_click'">
                                    <div class="o_kanban_image">
                                        <img alt="Contact image"
                                            t-att-src="kanban_image('res.partner', 'avatar_128', record.id.raw_value)" />
                                    </div>
                                    <div class="oe_kanban_details">
                                        <field name="name" on_change="1" />
                                        <div t-if="record.function.raw_value">
                                            <field name="function" />
                                        </div>
                                        <div t-if="record.email.raw_value">
                                            <field name="email" widget="email" on_change="1" />
                                        </div>
                                        <div t-if="record.type.raw_value != 'contact'">
                                            <div>
                                                <field name="zip" on_change="1" />
                                                <t t-if="record.city"> </t>
                                                <field name="city" />
                                            </div>
                                            <field t-if="record.state_id.raw_value" name="state_id" on_change="1" />
                                            <t t-if="record.country_id"> </t>
                                            <field name="country_id" on_change="1" />
                                        </div>
                                        <div t-if="record.phone.raw_value">Phone:
                                            <t t-esc="record.phone.value" />
                                        </div>
                                        <div t-if="record.mobile.raw_value">Mobile:
                                            <t t-esc="record.mobile.value" />
                                        </div>
                                    </div>
                                </div>
                            </t>
                        </templates>
                    </kanban>
                    <form string="Contact / Address">
                        <sheet>
                            <field name="type" widget="radio" options="{'horizontal': true}" on_change="1"
                                modifiers="{&quot;required&quot;: true}" />
                            <field name="parent_id" on_change="1" modifiers="{&quot;invisible&quot;: true}"
                                can_create="true" can_write="true" />
                            <div class="text-muted oe_edit_only">
                                <p class="mb-0"
                                    modifiers="{&quot;invisible&quot;: [[&quot;type&quot;, &quot;!=&quot;, &quot;contact&quot;]]}">
                                    <span>Use this to organize the contact details of employees of a given company (e.g.
                                        CEO, CFO, ...).</span>
                                </p>
                                <p class="mb-0"
                                    modifiers="{&quot;invisible&quot;: [[&quot;type&quot;, &quot;!=&quot;, &quot;invoice&quot;]]}">
                                    <span>Preferred address for all invoices. Selected by default when you invoice an
                                        order that belongs to this company.</span>
                                </p>
                                <p class="mb-0"
                                    modifiers="{&quot;invisible&quot;: [[&quot;type&quot;, &quot;!=&quot;, &quot;delivery&quot;]]}">
                                    <span>Preferred address for all deliveries. Selected by default when you deliver an
                                        order that belongs to this company.</span>
                                </p>
                                <p class="mb-0"
                                    modifiers="{&quot;invisible&quot;: [[&quot;type&quot;, &quot;!=&quot;, &quot;private&quot;]]}">
                                    <span>Private addresses are only visible by authorized users and contain sensitive
                                        data (employee home addresses, ...).</span>
                                </p>
                                <p class="mb-0"
                                    modifiers="{&quot;invisible&quot;: [[&quot;type&quot;, &quot;!=&quot;, &quot;other&quot;]]}">
                                    <span>Other address for the company (e.g. subsidiary, ...)</span>
                                </p>
                            </div>
                            <hr />
                            <group>
                                <group>
                                    <field name="name" string="Contact Name" on_change="1"
                                        modifiers="{&quot;required&quot;: [[&quot;type&quot;, &quot;=&quot;, &quot;contact&quot;]]}" />
                                    <field name="title" options="{'no_open': True}" placeholder="e.g. Mr."
                                        modifiers="{&quot;invisible&quot;: [[&quot;type&quot;, &quot;!=&quot;, &quot;contact&quot;]]}"
                                        can_create="true" can_write="true" />
                                    <field name="function" placeholder="e.g. Sales Director"
                                        modifiers="{&quot;invisible&quot;: [[&quot;type&quot;, &quot;!=&quot;, &quot;contact&quot;]]}" />
                                    <label for="street" string="Address"
                                        modifiers="{&quot;invisible&quot;: [[&quot;type&quot;, &quot;=&quot;, &quot;contact&quot;]]}" />
                                    <div
                                        modifiers="{&quot;invisible&quot;: [[&quot;type&quot;, &quot;=&quot;, &quot;contact&quot;]]}">
                                        <div class="o_address_format" name="div_address">
                                            <field name="street" placeholder="Street..." class="o_address_street" />
                                            <field name="street2" placeholder="Street 2..." class="o_address_street" />
                                            <field name="city" placeholder="City" class="o_address_city" />
                                            <field name="state_id" class="o_address_state" placeholder="State"
                                                options="{'no_open': True, 'no_quick_create': True}"
                                                context="{'country_id': country_id, 'default_country_id': country_id, 'zip': zip}"
                                                on_change="1" can_create="true" can_write="true" />
                                            <field name="zip" placeholder="ZIP" class="o_address_zip" on_change="1" />
                                            <field name="country_id" placeholder="Country" class="o_address_country"
                                                options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}"
                                                on_change="1" can_create="true" can_write="true" />
                                        </div>
                                    </div>
                                </group>
                                <group>
                                    <field name="email" widget="email" on_change="1" />
                                    <field name="phone" widget="phone" on_change="1" />
                                    <field name="mobile" widget="phone" on_change="1" />
                                    <field name="company_id" on_change="1" modifiers="{&quot;invisible&quot;: true}"
                                        can_create="true" can_write="true" />
                                </group>
                            </group>
                            <group>
                                <field name="comment" placeholder="Internal notes..." nolabel="1" colspan="2" />
                            </group>
                            <field name="lang" on_change="1" modifiers="{&quot;invisible&quot;: true}" />
                            <field name="user_id" modifiers="{&quot;invisible&quot;: true}" can_create="true"
                                can_write="true" />
                        </sheet>
                    </form>
                </field>
            </page>
            <page name="sales_purchases" string="Sales &amp; Purchase">
                <group name="container_row_2">
                    <group string="Sales" name="sale" priority="1">
                        <field name="user_id" widget="many2one_avatar_user" domain="[('share', '=', False)]"
                            can_create="true" can_write="true" />
                    </group>
                    <group string="Purchase" name="purchase" priority="2">
                    </group>
                    <group name="misc" string="Misc">
                        <field name="company_registry" on_change="1"
                            modifiers="{&quot;invisible&quot;: [[&quot;parent_id&quot;, &quot;!=&quot;, false]]}" />
                        <field name="ref" string="Reference" />
                        <field name="industry_id" options="{'no_create': True}"
                            modifiers="{&quot;invisible&quot;: [[&quot;is_company&quot;, &quot;=&quot;, false]]}"
                            can_create="true" can_write="true" />
                    </group>
                </group>
            </page>
            <page name="internal_notes" string="Internal Notes">
                <field name="comment" placeholder="Internal notes..." />
            </page>
        </notebook>
    </sheet>
    <div class="oe_chatter">
        <field name="message_follower_ids" />
        <field name="activity_ids" />
        <field name="message_ids" />
    </div>
</form>